(function(){angular.module("akop",["akop-multi-select","akop-keymap","akop-query-filter"])}).call(this),function(){var t;t=function(t){var e,r,n,i,s;return i=function(t,e,r){return null==r&&(r=!0),r||t.sort()&&e.sort(),t.length===e.length&&t.every(function(t,r){return t===e[r]})},s=function(t){var r;return r=[],t.altKey&&r.push(e("alt")),t.ctrlKey&&r.push(e("ctrl")),t.shiftKey&&r.push(e("shift")),r.push(parseInt(t.keyCode)),r},e=function(e){return t[e]},n=function(t){return _.map(t.split("-"),function(t){return e(t)})},r=function(t,e){return i(s(e),n(t),!1)},{codeFor:e,parseCombo:n,comboEventMatch:r}},t.$inject=["KEYCODES"],angular.module("akop-keymap").service("KeymapUtils",t)}.call(this),function(){angular.module("akop-keymap",[]).config(["$provide",function(t){return t.constant("KEYCODES",{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,caps:20,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window:91,right_window:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,numpad_4:100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,"*":106,"+":107,minus:109,decimal_point:110,"%":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,";":186,"=":187,"":188,"-":189,".":190,"/":191,grave_accent:192,"{":219,"\\":220,"}":221,"'":222})}])}.call(this),function(){angular.module("akop-multi-select",[])}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,r){this.list=t,this.root=r,this.moveToNext=e(this.moveToNext,this),this.moveToPrev=e(this.moveToPrev,this),this.selectFirst=e(this.selectFirst,this),this.selectLast=e(this.selectLast,this),this.selectNext=e(this.selectNext,this),this.selectPrev=e(this.selectPrev,this),this.root&&this.reset(this.root)}return t.prototype.reset=function(t){return this.root=t,_.each(this.list,function(t){return t.selected=!1}),this.selected=[],this.include(this.root,!1)},t.prototype.include=function(t,e){var r;if(null==e&&(e=!0),r=this._pos(t),0>r)throw new Error("MultiSelect: Element must be a member of list.");return e&&!this._isAdjacent(r)?!1:(t.selected=!0,this.selected[r]=t,this.cursor=r,this.selected)},t.prototype.exclude=function(t){var e,r,n;return n=this._pos(t),r=this._is_upper(n),e=this._is_lower(n),r||e?(t.selected=!1,r?(this.selected.pop(),this.cursor=this._upper_index()):(this.selected.splice(this._lower_index(),1,void 0),this.cursor=this._lower_index()),this.selected):!1},t.prototype.moveCursorTo=function(t){var e,r;return 0>t||t>this.list.length-1?this.selected:(e=this.list[t],e.selected?(r=this._is_desc(t,this.cursor)?1:-1,this.exclude(this.list[t+r])):this.include(e))},t.prototype.selectPrev=function(){return this.reset(null!=this.cursor==!1||0===this.cursor?_.last(this.list):this.list[this.cursor-1])},t.prototype.selectNext=function(){return this.reset(null!=this.cursor==!1||this.cursor===this.list.length-1?this.list[0]:this.list[this.cursor+1])},t.prototype.selectLast=function(){return this.reset(_.last(this.list))},t.prototype.selectFirst=function(){return this.reset(_.first(this.list))},t.prototype.moveToPrev=function(){return this.moveCursorTo(this.cursor-1)},t.prototype.moveToNext=function(){return this.moveCursorTo(this.cursor+1)},t.prototype._is_asc=function(t,e){return t-e===1},t.prototype._is_desc=function(t,e){return t-e===-1},t.prototype._pos=function(t){return this.list.indexOf(t)},t.prototype._isAdjacent=function(t){return t-1===this._upper_index()||t+1===this._lower_index()},t.prototype._upper_index=function(){return this.selected.length-1},t.prototype._lower_index=function(){var t;return t=_.filter(this.selected,function(t){return t}),this.selected.indexOf(_.first(t))},t.prototype._is_upper=function(t){return this._upper_index()===t},t.prototype._is_lower=function(t){return this._lower_index()===t},t}(),angular.module("akop-multi-select").factory("MultiSelect",function(){return t})}.call(this),function(){var t;t=function(t,e,r){return{restrict:"A",link:function(n,i,s){var o;return o=r(s.akopMultiSelect)(n)||{},n.multiSelect=new e(o.items),n.keymap||(n.keymap={}),_.extend(n.keymap,o.keymap,{up:function(){return n.multiSelect.selectPrev()},down:function(){return n.multiSelect.selectNext()},"shift-up":function(){return n.multiSelect.moveToPrev()},"shift-down":function(){return n.multiSelect.moveToNext()},"alt-down":function(){return n.multiSelect.selectLast()},"alt-up":function(){return n.multiSelect.selectFirst()}}),i.bind("keydown",function(e){var r,i,s,o;s=n.keymap,o=[];for(r in s)i=s[r],o.push(n.$apply(function(){return t.comboEventMatch(r,e)?i.call():void 0}));return o})}}},t.$inject=["KeymapUtils","MultiSelect","$parse"],angular.module("akop-multi-select").directive("akopMultiSelect",t)}.call(this),function(){var t;t=function(){function t(){}return t.prototype.getArrayArguments=function(t){var e,r;return _.compact(function(){var n;n=[];for(r in t)e=t[r],n.push(_.isArray(e)?{attr:r,arg:e}:void 0);return n}())},t.prototype.arrayArgsToExpressions=function(t){var e,r,n,i,s,o,u,l,c,a;for(n=[],c=this.getArrayArguments(t),s=0,u=c.length;u>s;s++)for(e=c[s],a=e.arg,o=0,l=a.length;l>o;o++)i=a[o],r={},r[e.attr]=i,delete t[e.attr],n.push(r);return n},t}(),angular.module("akop-query-filter").service("expressionUtils",t)}.call(this),function(){angular.module("akop-query-filter",[])}.call(this),function(){var t;t=function(t,e,r){var n;return n=function(e,r,i){var s,o;for(null==i&&(i=[]);e.length;)s=t("filter")(r,e.pop(),!0),i.push(s),n(e,(o=_(r)).without.apply(o,s),i);return _(i).flatten()},function(t,i){var s,o,u,l;if(i=e(i),u=i.group_by,delete i.group_by,s=r.getArrayArguments(i),o=n(r.arrayArgsToExpressions(i),t),l=s.length>0?n([i],o):n([i],t),!u)return l;if(_.any(t,function(t){return void 0===t[u]}))throw new Error('serviceQueryFilter: Missing group_by property "'+u+'" for some or all elements in list.');return _.groupBy(l,u)}},t.$inject=["$filter","akopParser","expressionUtils"],angular.module("akop-query-filter").filter("akopQuery",t)}.call(this),function(){var t;t=function(){return function(t){var e,r,n,i,s,o,u,l,c,a,p,h;if(t===Object(t))return t;if(!(t.split(":").length>1))return t;for(s=/(\w+):((\w+)|(\[.*\])|"(.*)")/g,i=[];n=s.exec(t);)i.push(n);for(o=function(t){return String(t).replace(/^[\s\"]+|[\s\"]+$/g,"")},e={},p=0,h=i.length;h>p;p++)n=i[p],r=n[1],l=n[5]||n[2],c=l.match(/\[(.*)\]/),c?(a=c[1].split(","),e[r]=function(){var t,e,r;for(r=[],t=0,e=a.length;e>t;t++)u=a[t],r.push(""+o(u));return r}()):e[r]=""+l;return e}},angular.module("akop-query-filter").factory("akopParser",t)}.call(this);